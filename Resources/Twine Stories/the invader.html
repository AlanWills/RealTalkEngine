<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Sugarcane 1.2 is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/xhtml; charset=UTF-8">
<title>Sugarcane</title>
<script type="text/javascript">
function $(a){if(typeof a=="string"){return document.getElementById(a)}else{return a}}function clone(a){var b={};for(property in a){b[property]=a[property]}return b}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function setPageElement(c,b,a){if(place=$(c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).text)}else{new Wikifier(place,a)}}}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.type="text/css";a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function throwError(a,b){new Wikifier(a,"'' @@ "+b+" @@ ''")}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(){var c=new RegExp("(?:\\s*)(?:(?:\"([^\"]*)\")|(?:'([^']*)')|(?:\\[\\[([^\\]]*)\\]\\])|([^\"'\\s]\\S*))","mg");var b=[];do{var a=c.exec(this);if(a){if(a[1]){b.push(a[1])}else{if(a[2]){b.push(a[2])}else{if(a[3]){b.push(a[3])}else{if(a[4]){b.push(a[4])}}}}}}while(a);return b};String.prototype.readBracketedList=function(){var b="\\[\\[([^\\]]+)\\]\\]";var a="[^\\s$]+";var e="(?:"+b+")|("+a+")";var d=new RegExp(e,"mg");var f=[];do{var c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};Array.prototype.indexOf||(Array.prototype.indexOf=function(b,d){d=(d==null)?0:d;var a=this.length;for(var c=d;c<a;c++){if(this[c]==b){return c}}return -1});function fade(f,c){var h;var e=f.cloneNode(true);var g=(c.fade=="in")?1:-1;f.parentNode.replaceChild(e,f);if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1}b(e,h);var a=window.setInterval(d,25);function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){f.style.visibility=(c.fade=="in")?"visible":"hidden";e.parentNode.replaceChild(f,e);delete e;window.clearInterval(a);if(c.onComplete){c.onComplete()}}}function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";k.style.opacity=j}}function scrollWindowTo(e){var d=window.scrollY?window.scrollY:document.body.scrollTop;var g=k(e);var c=Math.abs(d-g);var b=0;var j=(d>g)?-1:1;var f=window.setInterval(h,25);function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(f)}}function k(o){var p=a(o);var q=p+o.offsetHeight;var l=window.scrollY?window.scrollY:document.body.scrollTop;var m=window.innerHeight?window.innerHeight:document.body.clientHeight;var n=l+m;if(p<l){return p}else{if(q>n){if(o.offsetHeight<m){return(p-(m-o.offsetHeight)+20)}else{return p}}else{return p}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}}function History(){this.history=[{passage:null,variables:{},hash:null}]}History.prototype.init=function(){var a=this;if(!this.restore()){this.display("Start",null)}this.hash=window.location.hash;this.interval=window.setInterval(function(){a.watchHash.apply(a)},250)};History.prototype.display=function(d,b,a){var c=tale.get(d);this.history.unshift({passage:c,variables:clone(this.history[0].variables)});this.history[0].hash=this.save();var e=c.render();if(a!="offscreen"){removeChildren($("passages"));$("passages").appendChild(e);if(a!="quietly"){fade(e,{fade:"in"})}}if((a=="quietly")||(a=="offscreen")){e.style.visibility="visible"}if(a!="offscreen"){document.title=tale.title;this.hash=this.save();if(c.title!="Start"){document.title+=": "+c.title;window.location.hash=this.hash}window.scroll(0,0)}return e};History.prototype.restart=function(){window.location.hash=""};History.prototype.save=function(c){var a="";for(var b=this.history.length-1;b>=0;b--){if((this.history[b].passage)&&(this.history[b].passage.id)){a+=this.history[b].passage.id.toString(36)+"."}}return"#"+a.substr(0,a.length-1)};History.prototype.restore=function(){try{if((window.location.hash=="")||(window.location.hash=="#")){return false}var a=window.location.hash.replace("#","").split(".");var c=[];for(var b=0;b<a.length;b++){var g=parseInt(a[b],36);if(!tale.has(g)){return false}var f=(b==a.length-1)?"":"offscreen";c.unshift(this.display(g,null,f))}return true}catch(d){return false}};History.prototype.watchHash=function(){if(window.location.hash!=this.hash){if((window.location.hash!="")&&(window.location.hash!="#")){this.history=[{passage:null,variables:{}}];removeChildren($("passages"));$("passages").style.visibility="hidden";if(!this.restore()){alert("The passage you had previously visited could not be found.")}$("passages").style.visibility="visible"}else{window.location.reload()}this.hash=window.location.hash}};var version={major:2,minor:0,revision:0,date:new Date("July 30, 2007"),extensions:{}};var tale,state;var macros={};function main(){tale=new Tale();document.title=tale.title;setPageElement("storyTitle","StoryTitle","Untitled Story");if(tale.has("StoryAuthor")){$("titleSeparator").innerHTML="<br />";setPageElement("storyAuthor","StoryAuthor","")}if(tale.has("StoryMenu")){$("storyMenu").style.display="block";setPageElement("storyMenu","StoryMenu","")}for(macro in macros){if(typeof macro.init=="function"){macro.init()}}var styles=tale.lookup("tags","stylesheet");for(var i=0;i<styles.length;i++){addStyle(styles[i].text)}var scripts=tale.lookup("tags","script");for(var i=0;i<scripts.length;i++){try{eval(scripts[i].text)}catch(e){alert("There is a technical problem with this story ("+scripts[i].title+": "+e.message+"). You may be able to continue reading, but all parts of the story may not work properly.")}}state=new History();state.init()}Interface={init:function(){main();$("snapback").onclick=Interface.showSnapback;$("restart").onclick=Interface.restart;$("share").onclick=Interface.showShare},restart:function(){if(confirm("Are you sure you want to restart this story?")){state.restart()}},showShare:function(a){Interface.hideAllMenus();Interface.showMenu(a,$("shareMenu"))},showSnapback:function(a){Interface.hideAllMenus();Interface.buildSnapback();Interface.showMenu(a,$("snapbackMenu"))},buildSnapback:function(){var c=false;removeChildren($("snapbackMenu"));for(var a=state.history.length-1;a>=0;a--){if(state.history[a].passage&&state.history[a].passage.tags.indexOf("bookmark")!=-1){var b=document.createElement("div");b.hash=state.history[a].hash;b.onclick=function(){window.location.hash=this.hash};b.innerHTML=state.history[a].passage.excerpt();$("snapbackMenu").appendChild(b);c=true}}if(!c){var b=document.createElement("div");b.innerHTML="<i>No passages available</i>";$("snapbackMenu").appendChild(b)}},hideAllMenus:function(){$("shareMenu").style.display="none";$("snapbackMenu").style.display="none"},showMenu:function(b,a){if(!b){b=window.event}var c={x:0,y:0};if(b.pageX||b.pageY){c.x=b.pageX;c.y=b.pageY}else{if(b.clientX||b.clientY){c.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}}a.style.top=c.y+"px";a.style.left=c.x+"px";a.style.display="block";document.onclick=Interface.hideAllMenus;b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}}};window.onload=Interface.init;version.extensions.backMacro={major:1,minor:0,revision:0};macros.back={handler:function(a,b,e){var d="";if(e[0]){for(var c=0;c<state.history.length;c++){if(state.history[c].passage.title==e[0]){d=state.history[c].hash;break}else{if(state.history[1]){d=state.history[1].hash}else{throwError(a,"can't go back from the first passage read");return}}}}if(d==""){throwError(a,"can't find passage \""+e[0]+'" in history');return}el=document.createElement("a");el.className="back";el.href=d;el.innerHTML="<b>&laquo;</b> Back";a.appendChild(el)}};version.extensions.displayMacro={major:1,minor:0,revision:0};macros.display={handler:function(a,b,c){new Wikifier(a,tale.get(c[0]).text)}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var e=insertElement(a,"ul");if(!state.history[0].variables["actions clicked"]){state.history[0].variables["actions clicked"]={}}for(var b=0;b<g.length;b++){if(state.history[0].variables["actions clicked"][g[b]]){continue}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b]);insertText(c,g[b]);c.onclick=function(){state.history[0].variables["actions clicked"][this.id]=true;state.display(this.id,c)}}}};version.extensions.printMacro={major:1,minor:1,revision:0};macros.print={handler:function(place,macroName,params,parser){try{var output=eval(parser.fullArgs());if(output){new Wikifier(place,output.toString())}}catch(e){throwError(place,"bad expression: "+e.message)}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,d){macros.set.run(d.fullArgs())},run:function(expression){try{return eval(Wikifier.parse(expression))}catch(e){throwError(place,"bad expression: "+e.message)}}};version.extensions.ifMacros={major:1,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var condition=parser.fullArgs();var srcOffset=parser.source.indexOf(">>",parser.matchStart)+2;var src=parser.source.slice(srcOffset);var endPos=-1;var trueClause="";var falseClause="";for(var i=0,nesting=1,currentClause=true;i<src.length;i++){if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting==0){endPos=srcOffset+i+9;break}}if((src.substr(i,8)=="<<else>>")&&(nesting==1)){currentClause="false";i+=8}if(src.substr(i,5)=="<<if "){nesting++}if(currentClause==true){trueClause+=src.charAt(i)}else{falseClause+=src.charAt(i)}}try{if(eval(condition)){new Wikifier(place,trueClause.trim())}else{new Wikifier(place,falseClause.trim())}if(endPos!=-1){parser.nextMatch=endPos}else{throwError(place,"can't find matching endif")}}catch(e){throwError(place,"bad condition: "+e.message)}}};macros["else"]=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:1,minor:1,revision:0};macros.remember={handler:function(place,macroName,params,parser){var statement=parser.fullArgs();var expire=new Date();var variable,value;macros.set.run(statement);var variableSigil=Wikifier.parse("$");variableSigil=variableSigil.replace("[","\\[");variableSigil=variableSigil.replace("]","\\]");variable=statement.match(new RegExp(variableSigil+"(\\w+)","i"))[1];value=eval(Wikifier.parse("$"+variable));switch(typeof value){case"string":value='"'+value.replace(/"/g,'\\"')+'"';break;case"number":case"boolean":break;default:throwError(place,"can't remember $"+variable+" ("+(typeof value)+")");return}expire.setYear(expire.getFullYear()+1);document.cookie=macros.remember.prefix+variable+"="+value+"; expires="+expire.toGMTString()},init:function(){if(tale.has("StoryTitle")){macros.remember.prefix=tale.get("StoryTitle").text+"_"}else{macros.remember.prefix="__jonah_"}var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var bits=cookies[i].split("=");if(bits[0].trim().indexOf(this.prefix)==0){var statement=cookies[i].replace(this.prefix,"$");eval(Wikifier.parse(statement))}}}};version.extensions.SilentlyMacro={major:1,minor:0,revision:0};macros.silently={handler:function(g,e,f,b){var h=insertElement(null,"div");var k=b.source.indexOf(">>",b.matchStart)+2;var a=b.source.slice(k);var d=-1;var c="";for(var j=0;j<a.length;j++){if(a.substr(j,15)=="<<endsilently>>"){d=k+j+15}else{c+=a.charAt(j)}}if(d!=-1){new Wikifier(h,c);b.nextMatch=d}else{throwError(g,"can't find matching endsilently")}delete h}};macros.endsilently={handler:function(){}};version.extensions.choiceMacro={major:1,minor:0,revision:0};macros.choice={handler:function(a,b,c){Wikifier.createInternalLink(a,c[0])}};function Passage(c,b,a){this.title=c;if(b){this.id=a;this.initialText=this.text=Passage.unescapeLineBreaks(b.firstChild?b.firstChild.nodeValue:"");this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){this.tags=this.tags.readBracketedList()}else{this.tags=[]}}else{this.initialText=this.text="@@This passage does not exist.@@";this.tags=[]}}Passage.prototype.render=function(){var b=insertElement(null,"div","passage"+this.title,"passage");b.style.visibility="hidden";insertElement(b,"div","","header");var a=insertElement(b,"div","","content");new Wikifier(a,this.text);insertElement(b,"div","","footer");return b};Passage.prototype.reset=function(){this.text=this.initialText};Passage.prototype.excerpt=function(){var b=this.text.replace(/<<.*?>>/g,"");b=b.replace(/!.*?\n/g,"");b=b.replace(/[\[\]\/]/g,"");var a=b.match(/(.*?\s.*?\s.*?\s.*?\s.*?\s.*?\s.*?)\s/);return a[1]+"..."};Passage.unescapeLineBreaks=function(a){if(a&&a!=""){return a.replace(/\\n/mg,"\n").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""}};function Tale(){this.passages={};if(document.normalize){document.normalize()}var a=$("storeArea").childNodes;for(var b=0;b<a.length;b++){var c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b)}}this.title="Sugarcane";if(this.passages.StoryTitle){this.title=this.passages.StoryTitle.text}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(i in this.passages){if(this.passages[i].id==a){return true}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];var e=false;for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.reset=function(){for(i in this.passages){this.passages[i].reset()}};function Wikifier(a,b){this.source=b;this.output=a;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.prototype.assembleFormatterMatches=function(a){this.formatters=[];var b=[];for(var c=0;c<a.length;c++){b.push("("+a[c].match+")");this.formatters.push(a[c])}this.formatterRegExp=new RegExp(b.join("|"),"mg")};Wikifier.prototype.subWikify=function(c,b){var a=this.output;this.output=c;var f=b?new RegExp("("+b+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(f){f.lastIndex=this.nextMatch}var g=this.formatterRegExp.exec(this.source);var e=f?f.exec(this.source):null;if(e&&(!g||e.index<=g.index)){if(e.index>this.nextMatch){this.outputText(this.output,this.nextMatch,e.index)}this.matchStart=e.index;this.matchLength=e[1].length;this.matchText=e[1];this.nextMatch=e.index+e[1].length;this.output=a;return}else{if(g){if(g.index>this.nextMatch){this.outputText(this.output,this.nextMatch,g.index)}this.matchStart=g.index;this.matchLength=g[0].length;this.matchText=g[0];this.nextMatch=this.formatterRegExp.lastIndex;var h=-1;for(var d=1;d<g.length;d++){if(g[d]){matchingFormatter=d-1}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(e||g);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=a};Wikifier.prototype.outputText=function(a,c,b){insertText(a,this.source.substring(c,b))};Wikifier.prototype.fullArgs=function(){var b=this.source.indexOf(" ",this.matchStart);var a=this.source.indexOf(">>",this.matchStart);return Wikifier.parse(this.source.slice(b,a))};Wikifier.parse=function(b){var a=b.replace(/\$/g,"state.history[0].variables.");a=a.replace(/\beq\b/gi," == ");a=a.replace(/\bneq\b/gi," != ");a=a.replace(/\bgt\b/gi," > ");a=a.replace(/\beq\b/gi," == ");a=a.replace(/\bneq\b/gi," != ");a=a.replace(/\bgt\b/gi," > ");a=a.replace(/\bgte\b/gi," >= ");a=a.replace(/\blt\b/gi," < ");a=a.replace(/\blte\b/gi," <= ");a=a.replace(/\band\b/gi," && ");a=a.replace(/\bor\b/gi," || ");a=a.replace(/\bnot\b/gi," ! ");return a};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(f){var h=[];var a="(?:("+Wikifier.textPrimitives.anyLetter+"+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:("+Wikifier.textPrimitives.anyLetter+"+):([^;\\|\\n]+);)";var b=new RegExp(a,"mg");var c=false;do{b.lastIndex=f.nextMatch;var d=b.exec(f.source);var e=d&&d.index==f.nextMatch;if(e){var j,g;c=true;if(d[1]){j=d[1].unDash();g=d[2]}else{j=d[3].unDash();g=d[4]}switch(j){case"bgcolor":j="backgroundColor";break}h.push({style:j,value:g});f.nextMatch=d.index+d[0].length}}while(e);return h},monospacedByLineHelper:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var f=c[1];if(navigator.userAgent.indexOf("msie")!=-1&&navigator.userAgent.indexOf("opera")==-1){f=f.replace(/\n/g,"\r")}var d=insertElement(a.output,"pre",null,null,f);a.nextMatch=c.index+c[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{c:"caption",h:"thead","":"tbody",f:"tfoot"},handler:function(h){var k=insertElement(h.output,"table");h.nextMatch=h.matchStart;var c=new RegExp(this.lookahead,"mg");var d=null,a;var l,e;var j=[];var g=0;do{c.lastIndex=h.nextMatch;var f=c.exec(h.source);var b=f&&f.index==h.nextMatch;if(b){a=f[2];if(a!=d){l=insertElement(k,this.rowTypes[a])}d=a;if(d=="c"){if(g==0){l.setAttribute("align","top")}else{l.setAttribute("align","bottom")}h.nextMatch=h.nextMatch+1;h.subWikify(l,this.rowTerminator)}else{e=insertElement(l,"tr");this.rowHandler(h,e,j)}g++}}while(b)},rowHandler:function(h,d,m){var a=0;var k=1;var c=new RegExp(this.cellPattern,"mg");do{c.lastIndex=h.nextMatch;var f=c.exec(h.source);matched=f&&f.index==h.nextMatch;if(matched){if(f[1]=="~"){var l=m[a];if(l){l.rowCount++;l.element.setAttribute("rowSpan",l.rowCount);l.element.setAttribute("rowspan",l.rowCount);l.element.valign="center"}h.nextMatch=f.index+f[0].length-1}else{if(f[1]==">"){k++;h.nextMatch=f.index+f[0].length-1}else{if(f[2]){h.nextMatch=f.index+f[0].length;break}else{var b=false,g=false;h.nextMatch++;var o=Wikifier.formatHelpers.inlineCssHelper(h);while(h.source.substr(h.nextMatch,1)==" "){b=true;h.nextMatch++}var j;if(h.source.substr(h.nextMatch,1)=="!"){j=insertElement(d,"th");h.nextMatch++}else{j=insertElement(d,"td")}m[a]={rowCount:1,element:j};lastColCount=1;lastColElement=j;if(k>1){j.setAttribute("colSpan",k);j.setAttribute("colspan",k);k=1}for(var n=0;n<o.length;n++){j.style[o[n].style]=o[n].value}h.subWikify(j,this.cellTerminator);if(h.matchText.substr(h.matchText.length-2,1)==" "){g=true}if(b&&g){j.align="center"}else{if(b){j.align="right"}else{if(g){j.align="left"}}}h.nextMatch=h.nextMatch-1}}}a++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(a){insertElement(a.output,"hr")}},{name:"emdash",match:"--",handler:function(a){var b=insertElement(a.output,"span");b.innerHTML="&mdash;"}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(a){var b=insertElement(a.output,"h"+a.matchLength);a.subWikify(b,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"monospacedByLineForPlugin",match:"^//\\{\\{\\{\\n",lookahead:"^//\\{\\{\\{\\n\\n*((?:^[^\\n]*\\n)+?)(\\n*^//\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"wikifyCommentForPlugin",match:"^/\\*\\*\\*\\n",terminator:"^\\*\\*\\*/\\n",handler:function(a){a.subWikify(a.output,this.terminator)}},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(a){var b=insertElement(a.output,"blockquote");a.subWikify(b,this.terminator)}},{name:"quoteByLine",match:"^>+",terminator:"\\n",element:"blockquote",handler:function(c){var e=new RegExp(this.match,"mg");var d=[c.output];var h=0;var b=c.matchLength;var g;do{if(b>h){for(g=h;g<b;g++){d.push(insertElement(d[d.length-1],this.element))}}else{if(b<h){for(g=h;g>b;g--){d.pop()}}}h=b;c.subWikify(d[d.length-1],this.terminator);insertElement(d[d.length-1],"br");e.lastIndex=c.nextMatch;var f=e.exec(c.source);var a=f&&f.index==c.nextMatch;if(a){b=f[0].length;c.nextMatch+=f[0].length}}while(a)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",outerElement:"ul",itemElement:"li",handler:function(k){var b=new RegExp(this.lookahead,"mg");k.nextMatch=k.matchStart;var f=[k.output];var l=null,c;var h=0,d;var m;do{b.lastIndex=k.nextMatch;var g=b.exec(k.source);var a=g&&g.index==k.nextMatch;if(a){if(g[1]){c="ul"}if(g[2]){c="ol"}d=g[0].length;k.nextMatch+=g[0].length;if(d>h){for(m=h;m<d;m++){f.push(insertElement(f[f.length-1],c))}}else{if(d<h){for(m=h;m>d;m--){f.pop()}}else{if(d==h&&c!=l){f.pop();f.push(insertElement(f[f.length-1],c))}}}h=d;l=c;var j=insertElement(f[f.length-1],"li");k.subWikify(j,this.terminator)}}while(a)}},{name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|\\]]*?)(?:(\\]\\])|(\\|(.*?)\\]\\]))",terminator:"\\|",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart&&c[2]){var d=Wikifier.createInternalLink(a.output,c[1]);a.outputText(d,a.nextMatch,a.nextMatch+c[1].length);a.nextMatch+=c[1].length+2}else{if(c&&c.index==a.matchStart&&c[3]){var f;if(tale.has(c[4])){f=Wikifier.createInternalLink(a.output,c[4])}else{f=Wikifier.createExternalLink(a.output,c[4])}a.outputText(f,a.nextMatch,a.nextMatch+c[1].length);a.nextMatch=c.index+c[0].length}}}},{name:"urlLink",match:"(?:http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)",handler:function(a){var b=Wikifier.createExternalLink(a.output,a.matchText);a.outputText(b,a.matchStart,a.nextMatch)}},{name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]{0,1})([>]{0,1})[Ii][Mm][Gg]\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",handler:function(a){var c=new RegExp(this.lookahead,"mg");c.lastIndex=a.matchStart;var d=c.exec(a.source);if(d&&d.index==a.matchStart){var f=a.output;if(d[5]){if(tale.has(d[5])){f=Wikifier.createInternalLink(a.output,d[5])}else{f=Wikifier.createExternalLink(a.output,d[5])}}var b=insertElement(f,"img");if(d[1]){b.align="left"}else{if(d[2]){b.align="right"}}if(d[3]){b.title=d[3]}b.src=d[4];a.nextMatch=d.index+d[0].length}}},{name:"macro",match:"<<",lookahead:"<<([^>\\s]+)(?:\\s*)([^>]*)>>",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart&&c[1]){var g=c[2].readMacroParams();a.nextMatch=c.index+c[0].length;try{var d=macros[c[1]];if(d&&d.handler){d.handler(a.output,c[1],g,a)}else{insertElement(a.output,"span",null,"marked","macro not found: "+c[1])}}catch(f){throwError(a.output,"Error executing macro "+c[1]+": "+f.toString())}}}},{name:"html",match:"<[Hh][Tt][Mm][Ll]>",lookahead:"<[Hh][Tt][Mm][Ll]>((?:.|\\n)*?)</[Hh][Tt][Mm][Ll]>",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var d=insertElement(a.output,"span");d.innerHTML=c[1];a.nextMatch=c.index+c[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){a.nextMatch=c.index+c[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(a){var b=new RegExp(this.lookahead,"mg");b.lastIndex=a.matchStart;var c=b.exec(a.source);if(c&&c.index==a.matchStart){var d=insertElement(a.output,"code",null,null,c[1]);a.nextMatch=c.index+c[0].length}}},{name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)]+)(?:\\):))|(?:([^:@]+):([^;]+);)",handler:function(a){var d=insertElement(a.output,"span",null,null,null);var c=Wikifier.formatHelpers.inlineCssHelper(a);if(c.length==0){d.className="marked"}else{for(var b=0;b<c.length;b++){d.style[c[b].style]=c[b].value}}a.subWikify(d,this.terminator)}},{name:"lineBreak",match:"\\n",handler:function(a){insertElement(a.output,"br")}}];Wikifier.textPrimitives={anyDigit:"[0-9]",anyNumberChar:"[0-9\\.E]",urlPattern:"(?:http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)"};Wikifier.createInternalLink=function(a,c){var b=insertElement(a,"a",c);b.href="javascript:void(0)";if(tale.has(c)){b.className="internalLink"}else{b.className="brokenLink"}b.onclick=function(){state.display(c,b)};if(a){a.appendChild(b)}return b};Wikifier.createExternalLink=function(a,b){var c=insertElement(a,"a");c.href=b;c.className="externalLink";c.target="_blank";if(a){a.appendChild(c)}return c};if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))){Wikifier.textPrimitives.upperLetter="[A-Z\u00c0-\u00de]";Wikifier.textPrimitives.lowerLetter="[a-z\u00df-\u00ff_0-9\\-]";Wikifier.textPrimitives.anyLetter="[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-]"}else{Wikifier.textPrimitives.upperLetter="[A-Z\u00c0-\u00de\u0150\u0170]";Wikifier.textPrimitives.lowerLetter="[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]";Wikifier.textPrimitives.anyLetter="[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"};
</script>
<style type="text/css">
body{background-color:#000;color:#fff;font-family:Verdana,sans-serif;font-size:62.5%;margin:4em 15% 5% 5em;}#sidebar{position:fixed;top:4.2em;left:7.5em;width:12em;list-style:none;margin:0;padding:0 1em 0 0;font:bold 1.1em Verdana,sans-serif;}#sidebar li{color:#333;text-align:right;background-repeat:no-repeat;margin-bottom:1em;}#sidebar li:hover{color:#fff;cursor:pointer;}#sidebar li a{color:#333;}#sidebar li a:hover{color:#fff;text-decoration:none;}#sidebar #title{color:#999;font-size:150%;cursor:auto;}#sidebar #title a{color:#999;}#sidebar #title a:hover{color:#fff;}#sidebar #storyAuthor{font-size:50%;}#sidebar #storyMenu{display:none;line-height:2.5em;margin-bottom:.5em;}#sidebar #title:hover{color:#999;}#sidebar #credits{padding-top:2em;font-weight:normal;font-size:80%;cursor:auto;}#sidebar #credits:hover{color:#333;}#sidebar #credits a{text-decoration:none;}.menu{position:absolute;display:none;background-color:#343434;color:#fff;opacity:.9;border:1px solid #fff;text-align:left;font:1.1em Verdana;line-height:2em;}.menu div{padding:0 .4em;}.menu div:hover{cursor:pointer;background-color:#fff;color:#343434;}#passages{margin-left:18.2em;border-left:1px solid #333;padding-left:1.5em;}.passage{font-size:1.2em;line-height:175%;margin-bottom:2em;text-align:left;}.passage ul{padding-top:1.3em;text-align:center;}.passage li{display:inline;margin-right:6em;}a.internalLink,a.externalLink,a.back{color:#4d6ad8;font-weight:bold;text-decoration:none;}a.internalLink:hover,a.externalLink:hover,a.back:hover{color:#8ea6ff;text-decoration:underline;}a.brokenLink{background-color:red;text-decoration:none;color:#000;}.marked{background-color:red;color:#000;margin-right:12px;padding:3px;}.passage ul{margin-left:.5em;padding-left:1.5em;}.passage ol{margin-left:.5em;padding-left:1.5em;}.passage table{border-collapse:collapse;font-size:100%;margin:.8em 1.0em;}.passage th,.passage td,.passage tr,.passage caption{padding:3px;}.passage hr{height:1px;}#storeArea{display:none;}
</style>
</head>
<body>
<ul id="sidebar">
<li id="title"><span id="storyTitle"></span><span id="titleSeparator"></span><span id="storyAuthor"></span></li>
<li id="storyMenu"></li>
<li id="snapback">Rewind</li>
<li id="restart">Restart</li>
<li id="share">Share</li>
<li id="credits">
This story was created with <a href="http://gimcrackd.com/etc/sr/">Twee</a> and is powered by <a href="http://tiddlywiki.com/">TiddlyWiki</a>
</li>
</ul>
<div id="snapbackMenu" class="menu"></div>
<div id="shareMenu" class="menu">
<div onclick="javascript:location.href='http://del.icio.us/post?title='+tale.get('StoryTitle').text+'&url='+location.href">Delicious</div>
<div onclick="javascript:location.href='http://facebook.com/share.php?t='+tale.get('StoryTitle').text+'&u='+location.href">Facebook</div>
<div onclick="javascript:location.href='http://stumbleupon.com/submit?title='+tale.get('StoryTitle').text+'&url='+location.href">StumbleUpon</div>
<div onclick="javascript:location.href='http://twitter.com/home?status=Reading%20'+location.href">Twitter</div>
</div>
<div id="passages"></div>
<div id="storeArea"><div tiddler="Replace macros" tags="script" modified="201307212338" created="201307212338" modifier="twee">(function () {\n  version.extensions['timedreplaceMacro'] = {\n    major: 2,\n    minor: 3,\n    revision: 0\n  };\n  macros['timedcontinue'] = macros['timedinsert'] = macros['timedreplace'] = {\n    handler: function (g, e, f, b) {\n      function cssTimeUnit(s) {\n        if (typeof s == &quot;string&quot;) {\n          if (s.slice(-2).toLowerCase() == &quot;ms&quot;) {\n            return Number(s.slice(0, -2)) || 0;\n          }\n          else if (s.slice(-1).toLowerCase() == &quot;s&quot;) {\n            return Number(s.slice(0, -1)) * 1000 || 0;\n          }\n        }\n        throwError(g, s + &quot; isn't a CSS time unit&quot;);\n        return 0;\n      }\n\n      function tagcontents(starttag, endtag, k) {\n        var a = b.source.slice(k);\n        var l = 0;\n        var c = &quot;&quot;;\n        for (var i = 0; i &lt; a.length; i++) {\n          var w = endtag.length;\n          if (a.substr(i, w) == endtag) {\n            if (l == 0) {\n              b.nextMatch = k + i + w;\n              return c;\n            }\n            else {\n              l--;\n              c += a.charAt(i);\n            }\n          }\n          else {\n            if (a.substr(i, starttag.length) == starttag) {\n              l++;\n            }\n            c += a.charAt(i);\n          }\n        }\n        return &quot;&quot;;\n      }\n      var tr = &quot;&lt;&lt;&quot; + e;\n      var rw = &quot;&lt;&lt;replacewith&gt;&gt;&quot;;\n      var etr = &quot;&lt;&lt;end&quot; + e + &quot;&gt;&gt;&quot;;\n      var k = b.source.indexOf('&gt;&gt;', b.matchStart) + 2;\n      var c, d;\n      if (e == &quot;timedcontinue&quot;) {\n        d = b.source.slice(k);\n        b.nextMatch = k + d.length;\n      }\n      else if (e == &quot;timedreplace&quot;) {\n        c = tagcontents(tr, rw, k);\n        d = tagcontents((c ? rw : tr), etr, c ? b.nextMatch : k);\n      }\n      else if (e == &quot;timedinsert&quot;) {\n        d = tagcontents(tr, etr, k);\n      }\n      else if (e == &quot;timedremove&quot;) {\n        c = tagcontents(tr, etr, k);\n      }\n      var tm;\n      tm = cssTimeUnit(f[0]);\n      var h;\n      if (c) {\n        if (d) {\n          g = insertElement(g, &quot;span&quot;, null, &quot;timedreplacements&quot;);\n        }\n        h = insertElement(g, &quot;span&quot;, null, &quot;timedreplacement timedremove&quot;);\n        new Wikifier(h, c);\n        if (d || e == &quot;timedremove&quot;) {\n          setTimeout(function () {\n            h.classList.add(&quot;replacement-out&quot;);\n            setTimeout(function () {\n              h.parentNode.removeChild(h);\n            }, 1000);\n          }, tm);\n        }\n      }\n      if (d) {\n        var m = insertElement(g, &quot;span&quot;, null, &quot;timedreplacement timedinsert&quot;, d);\n        m.style.display = &quot;none&quot;;\n        setTimeout(function () {\n          if (m) {\n            var t = m.firstChild ? m.firstChild.nodeValue : &quot;&quot;;\n            removeChildren(m);\n            new Wikifier(m, t);\n            m.style.display = &quot;inline&quot;;\n            m.classList.add(&quot;replacement-in&quot;);\n            setTimeout(function () {\n              m.classList.remove(&quot;replacement-in&quot;);\n            }, 1);\n            scrollWindowTo(m);\n          }\n        }, tm);\n      }\n      else if (!c && e != &quot;timedremove&quot;) {\n        throwError(g, &quot;can't find matching end&quot; + e);\n        return;\n      }\n    }\n  }\n  macros['timedremove'] = macros['timedreplace'];\n  macros['replacewith'] = macros['endtimedinsert'] = macros['endtimedremove'] = macros['endtimedreplace'] = {\n    handler: function () {}\n  }\n  scrollWindowTo=function(E){var D=window.scrollY?window.scrollY:document.body.scrollTop;\n  var G=J(E);if(!G){return;}var C=Math.abs(D-G);var B=0;var I=(D&gt;G)?-1:1;var F=window.setInterval(H,25);\n  function H(){B+=0.1;window.scrollTo(0,D+I*(C*Math.easeInOut(B)));if(B&gt;=1){window.clearInterval(F);\n  }}function J(N){var O=A(N);var P=O+N.offsetHeight;var K=window.scrollY?window.scrollY:document.body.scrollTop;\n  var L=window.innerHeight?window.innerHeight:document.body.clientHeight;var M=K+L;\n  if(O&gt;=K){if(P&gt;M){if(N.offsetHeight&lt;L){return(O-(L-N.offsetHeight)+20);}else{return O;\n  }}}}function A(K){var L=0;while(K.offsetParent){L+=K.offsetTop;K=K.offsetParent;}return L;\n  }};\n}());\n(function(){version.extensions[&quot;replaceMacrosCombined&quot;]={major:1,minor:0,revision:0};\nvar nullobj={handler:function(){}};function showVer(n,notrans){n.innerHTML=&quot;&quot;;\nnew Wikifier(n,n.tweecode);n.setAttribute(&quot;data-enabled&quot;,&quot;true&quot;);\nn.style.display=&quot;inline&quot;;n.classList.remove(&quot;revision-span-out&quot;);\nif(!notrans){n.classList.add(&quot;revision-span-in&quot;);if(n.timeout){clearTimeout(n.timeout)\n}n.timeout=setTimeout(function(){n.classList.remove(&quot;revision-span-in&quot;)\n},1)}}function hideVer(n,notrans){n.setAttribute(&quot;data-enabled&quot;,&quot;false&quot;);\nn.classList.remove(&quot;revision-span-in&quot;);if(n.timeout){clearTimeout(n.timeout)\n}if(!notrans){n.classList.add(&quot;revision-span-out&quot;);n.timeout=setTimeout(function(){if(n.getAttribute(&quot;data-enabled&quot;)==&quot;false&quot;){n.classList.remove(&quot;revision-span-out&quot;);\nn.style.display=&quot;none&quot;;n.innerHTML=&quot;&quot;}},1000)}else{n.style.display=&quot;none&quot;;\nn.innerHTML=&quot;&quot;}}function tagcontents(b,starttags,desttags,endtags,k){var l=0,c=&quot;&quot;,tg,a,i;\nfunction tagfound(i,e){for(var j=0;j&lt;e.length;j++){if(a.indexOf(&quot;&lt;&lt;&quot;+e[j],i)==i){return e[j]\n}}}a=b.source.slice(k);for(i=0;i&lt;a.length;i++){if(tg=tagfound(i,starttags)){l++\n}else{if((tg=tagfound(i,desttags))&&l==0){b.nextMatch=k+i+tg.length+4;\nreturn[c,tg]}else{if(tg=tagfound(i,endtags)){l--;if(l&lt;0){return null\n}}}}c+=a.charAt(i)}return null}var begintags=[];var endtags=[];\nfunction revisionSpanHandler(g,e,f,b){var k=b.source.indexOf(&quot;&gt;&gt;&quot;,b.matchStart)+2,vsns=[],vtype=e,flen=f.length,becomes,c,cn,m,h,vsn;\nfunction mkspan(vtype){h=insertElement(m,&quot;span&quot;,null,&quot;revision-span &quot;+vtype);\nh.setAttribute(&quot;data-enabled&quot;,false);h.style.display=&quot;none&quot;;h.tweecode=&quot;&quot;;\nreturn h}if(this.shorthand&&flen){while(f.length&gt;0){vsns.push([f.shift(),(this.flavour==&quot;insert&quot;?&quot;gains&quot;:&quot;becomes&quot;)])\n}}else{if(this.flavour==&quot;insert&quot;||(this.flavour==&quot;continue&quot;&&this.trigger==&quot;time&quot;)){vsns.push([&quot;&quot;,&quot;becomes&quot;])\n}}if(this.flavour==&quot;continue&quot;&&flen){b.nextMatch=k+b.source.slice(k).length;\nvsns.push([b.source.slice(k),vtype])}else{becomes=[&quot;becomes&quot;,&quot;gains&quot;];\nc=tagcontents(b,begintags,becomes.concat(endtags),endtags,k);\nif(c&&endtags.indexOf(c[1])==-1){while(c){vsns.push(c);c=tagcontents(b,begintags,becomes,endtags,b.nextMatch)\n}c=tagcontents(b,begintags,[&quot;end&quot;+e],endtags,b.nextMatch)}if(!c){throwError(g,&quot;can't find matching end&quot;+e);\nreturn}vsns.push(c);if(this.flavour==&quot;continue&quot;){k=b.nextMatch;\nb.nextMatch=k+b.source.slice(k).length;vsns.push([b.source.slice(k),&quot;&quot;])\n}}if(this.flavour==&quot;remove&quot;){vsns.push([&quot;&quot;,&quot;becomes&quot;])}console.log(JSON.stringify(vsns));\ncn=0;m=insertElement(g,&quot;span&quot;,null,e);m.setAttribute(&quot;data-flavour&quot;,this.flavour);\nh=mkspan(&quot;initial&quot;);vsn=vsns.shift();console.log(e+&quot; &quot;+vsn[0]);\nh.tweecode=vsn[0];showVer(h,true);while(vsns.length&gt;0){if(vsn){vtype=vsn[1]\n}vsn=vsns.shift();h=mkspan(vtype);h.tweecode=vsn[0]}if(typeof this.setup==&quot;function&quot;){this.setup(m,g,f)\n}}function quantity(m){return(m.children.length-1)+(m.getAttribute(&quot;data-flavour&quot;)==&quot;remove&quot;)\n}function revisionSetup(m,g,f){m.className+=&quot; &quot;+f[0].replace(&quot; &quot;,&quot;_&quot;);\nshowVer(m.firstChild,true)}function timeSetup(m,g,f){function cssTimeUnit(s){if(typeof s==&quot;string&quot;){if(s.slice(-2).toLowerCase()==&quot;ms&quot;){return Number(s.slice(0,-2))||0\n}else{if(s.slice(-1).toLowerCase()==&quot;s&quot;){return Number(s.slice(0,-1))*1000||0\n}}}throwError(g,s+&quot; isn't a CSS time unit&quot;);return 0}var fl=this.flavour;\nvar tm=cssTimeUnit(f[0]);setTimeout(function timefn(){var done=!revise(&quot;revise&quot;,m);\nif(!done){setTimeout(timefn,tm)}},tm)}function hoverSetup(m){m.onmouseover=function(){revise(&quot;revise&quot;,m)\n};m.onmouseout=function(){revise(&quot;revert&quot;,m)}}function mouseSetup(m){var fl=this.flavour;\nm.onmouseenter=function(){var done=!revise(&quot;revise&quot;,m);if(done){this.onmouseenter=null\n}}}function linkSetup(m,g,f){var fl=this.flavour,l=Wikifier.createInternalLink(),p=m.parentNode;\nl.className=&quot;internalLink replaceLink&quot;;p.insertBefore(l,m);l.insertBefore(m,null);\nl.onclick=function(){var p,done=false;if(m&&m.parentNode==this){done=!revise(&quot;revise&quot;,m);\nscrollWindowTo(m)}if(done){this.parentNode.insertBefore(m,this);\nthis.parentNode.removeChild(this)}}}function visitedSetup(m,g,f){var i,done,shv=state.history[0].variables,os=&quot;once seen&quot;,d=(m.firstChild&&(this.flavour==&quot;insert&quot;?m.firstChild.nextSibling:m.firstChild).tweecode);\nshv[os]=shv[os]||{};if(d&&!shv[os].hasOwnProperty(d)){shv[os][d]=1\n}else{for(i=shv[os][d];i&gt;0&&!done;i--){done=!revise(&quot;revise&quot;,m,true)\n}if(shv[os].hasOwnProperty(d)){shv[os][d]+=1}}}[{name:&quot;insert&quot;,flavour:&quot;insert&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedinsert&quot;,flavour:&quot;insert&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;insertion&quot;,flavour:&quot;insert&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;later&quot;,flavour:&quot;insert&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;replace&quot;,flavour:&quot;replace&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousereplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;revision&quot;,flavour:&quot;replace&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;timedremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mouseremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;removal&quot;,flavour:&quot;remove&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;once&quot;,flavour:&quot;remove&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;continue&quot;,flavour:&quot;continue&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedcontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousecontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;cycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;mousecycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;timedcycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;time&quot;,setup:timeSetup}].forEach(function(e){e.handler=revisionSpanHandler;\ne.shorthand=([&quot;link&quot;,&quot;mouse&quot;,&quot;hover&quot;].indexOf(e.trigger)&gt;-1);\nmacros[e.name]=e;macros[&quot;end&quot;+e.name]=nullobj;begintags.push(e.name);\nendtags.push(&quot;end&quot;+e.name)});function reviseAll(rt,rname){var rall=document.querySelectorAll(&quot;.passage .&quot;+rname),ret=false;\nfor(var i=0;i&lt;rall.length;i++){ret=ret||revise(rt,rall[i])}return ret\n}function revise(rt,r,notrans){var ind2,curr,next,ind=-1,rev=(rt==&quot;revert&quot;),rnd=(rt.indexOf(&quot;random&quot;)&gt;-1),fl=r.getAttribute(&quot;data-flavour&quot;),rc=r.childNodes,cyc=(fl==&quot;cycle&quot;),rcl=rc.length-1;\nfunction doToGainerSpans(n,fn){for(var k=n-1;k&gt;=0;k--){if(rc[k+1].classList.contains(&quot;gains&quot;)){fn(rc[k],notrans)\n}else{break}}}for(var k=0;k&lt;=rcl;k++){if(rc[k].getAttribute(&quot;data-enabled&quot;)==&quot;true&quot;){ind=k\n}}if(rev){ind-=1}curr=(ind&gt;=0?rc[ind]:(cyc?rc[rcl]:null));ind2=ind;\nif(rnd){ind2=(ind+(Math.floor(Math.random()*rcl)))%rcl}next=((ind2&lt;rcl)?rc[ind2+1]:(cyc?rc[0]:null));\nvar docurr=(rev?showVer:hideVer);var donext=(rev?hideVer:showVer);\nif(curr){if(!(next&&next.classList.contains(&quot;gains&quot;))||rnd){docurr(curr,notrans);\ndoToGainerSpans(ind,docurr,notrans)}}if(next){donext(next,notrans);\nif(rnd){doToGainerSpans(ind2+1,donext,notrans)}}return(cyc?true:(rev?(ind&gt;0):(ind2&lt;rcl-1)))\n}macros[&quot;revert&quot;]=macros[&quot;revise&quot;]=macros[&quot;randomise&quot;]=macros[&quot;randomize&quot;]={handler:function(a,b,c){var l,rev,rname;\nfunction disableLink(l){l.style.display=&quot;none&quot;}function enableLink(l){l.style.display=&quot;inline&quot;\n}function updateLink(l){if(l.className.indexOf(&quot;random&quot;)&gt;-1){enableLink(l);\nreturn}var rall=document.querySelectorAll(&quot;.passage .&quot;+rname),cannext,canprev,i,ind,r,fl;\nfor(i=0;i&lt;rall.length;i++){r=rall[i],fl=r.getAttribute(&quot;data-flavour&quot;);\nif(fl==&quot;cycle&quot;){cannext=canprev=true}else{if(r.firstChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){canprev=true\n}if(r.lastChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){cannext=true\n}}}var can=(l.classList.contains(&quot;revert&quot;)?canprev:cannext);(can?enableLink:disableLink)(l)\n}function toggleText(w){w.classList.toggle(rl+&quot;Enabled&quot;);w.classList.toggle(rl+&quot;Disabled&quot;);\nw.style.display=((w.style.display==&quot;none&quot;)?&quot;inline&quot;:&quot;none&quot;)}var rl=&quot;reviseLink&quot;;\nif(c.length&lt;2){throwError(a,b+&quot; macro needs 2 parameters&quot;);return\n}rname=c.shift().replace(&quot; &quot;,&quot;_&quot;);l=Wikifier.createInternalLink(a,null);\nl.className=&quot;internalLink &quot;+rl+&quot; &quot;+rl+&quot;_&quot;+rname+&quot; &quot;+b;var v=&quot;&quot;;\nvar end=false;var out=false;if(c.length&gt;1&&c[0][0]==&quot;$&quot;){v=c[0].slice(1);\nc.shift()}switch(c[c.length-1]){case&quot;end&quot;:end=true;c.pop();break;\ncase&quot;out&quot;:out=true;c.pop();break}var h=state.history[0].variables;\nfor(var i=0;i&lt;c.length;i++){var on=(i==Math.max(c.indexOf(h[v]),0));\nvar d=insertElement(null,&quot;span&quot;,null,rl+((on)?&quot;En&quot;:&quot;Dis&quot;)+&quot;abled&quot;);\nif(on){h[v]=c[i];l.setAttribute(&quot;data-cycle&quot;,i)}else{d.style.display=&quot;none&quot;\n}insertText(d,c[i]);l.appendChild(d)}l.onclick=function(){reviseAll(b,rname);\nvar t=this.childNodes,u=this.getAttribute(&quot;data-cycle&quot;)-0,m=t.length,n,lall,i;\nif((end||out)&&u==m-(end?2:1)){if(end){n=this.removeChild(t[u+1]);\nn.className=rl+&quot;End&quot;;n.style.display=&quot;inline&quot;;this.parentNode.replaceChild(n,this)\n}else{this.parentNode.removeChild(this);return}}else{toggleText(t[u]);\nu=(u+1)%m;if(v){h[v]=c[u]}toggleText(t[u]);this.setAttribute(&quot;data-cycle&quot;,u)\n}lall=document.getElementsByClassName(rl+&quot;_&quot;+rname);for(i=0;i&lt;lall.length;\ni++){updateLink(lall[i])}};disableLink(l);setTimeout(function(){updateLink(l)\n},1)}};macros[&quot;mouserevise&quot;]=macros[&quot;hoverrevise&quot;]={handler:function(a,b,c,d){var endtags=[&quot;end&quot;+b];\nvar t=tagcontents(d,[b],endtags,endtags,d.source.indexOf(&quot;&gt;&gt;&quot;,d.matchStart)+2);\nif(t){var rname=c[0].replace(&quot; &quot;,&quot;_&quot;),h=insertElement(a,&quot;span&quot;,null,&quot;hoverrevise hoverrevise_&quot;+rname),f=function(){var done=!reviseAll(&quot;revise&quot;,rname);\nif(b!=&quot;hoverrevise&quot;&&done){this.onmouseenter=null}};new Wikifier(h,t[0]);\nif(b==&quot;hoverrevise&quot;){h.onmouseover=f;h.onmouseout=function(){reviseAll(&quot;revert&quot;,rname)\n}}else{h.onmouseenter=f}}}};macros[&quot;endmouserevise&quot;]=nullobj;\nmacros[&quot;endhoverrevise&quot;]=nullobj}());\n</div><div tiddler="Pause" tags="" modified="201307212337" created="201307212337" modifier="twee">&lt;&lt;timedinsert 1s&gt;&gt;&lt;&lt;display &quot;I am here&quot;&gt;&gt;&lt;&lt;endtimedinsert&gt;&gt;</div><div tiddler="South" tags="" modified="201307220532" created="201307220532" modifier="twee">\n&lt;&lt;if $south5&gt;&gt;I own this air and I need it.&lt;&lt;endif&gt;&gt; &lt;&lt;if $south3&gt;&gt;Here I was born and here I'll be taken back&lt;&lt;endif&gt;&gt;&lt;&lt;if $south4&gt;&gt;, one of these rainy days&lt;&lt;endif&gt;&gt;&lt;&lt;if $south3&gt;&gt;.&lt;&lt;endif&gt;&gt; &lt;&lt;if $south2&gt;&gt;Damp like this, paper-skin could tear under a stray fingernail.&lt;&lt;endif&gt;&gt; &lt;&lt;if $south1&gt;&gt;I need this air and I own it.&lt;&lt;endif&gt;&gt;\n</div><div tiddler="West" tags="" modified="201307220531" created="201307220531" modifier="twee">\n&lt;&lt;if $west1&gt;&gt;No more flies about the town's baked corpse, not today.&lt;&lt;endif&gt;&gt; &lt;&lt;if $west5&gt;&gt;The clouds have taken mercy.&lt;&lt;endif&gt;&gt; &lt;&lt;if $west3&gt;&gt;Dripping and panting,&lt;&lt;endif&gt;&gt; &lt;&lt;if $west2&gt;&gt;I touch my arms and shoulder blades to&lt;&lt;endif&gt;&gt; &lt;&lt;if $west4&gt;&gt;brand new&lt;&lt;endif&gt;&gt; &lt;&lt;if $west2&gt;&gt;mud.&lt;&lt;endif&gt;&gt;\n</div><div tiddler="Start" tags="" modified="201307220112" created="201307220112" modifier="twee">&lt;&lt;display &quot;Truestart&quot;&gt;&gt;</div><div tiddler="Wet" tags="" modified="201702260424" created="201702260424" modifier="twee"> in wet strings</div><div tiddler="East" tags="" modified="201307220529" created="201307220529" modifier="twee">&lt;&lt;if $east1&gt;&gt;Rain's too late to save the grass&lt;&lt;endif&gt;&gt;&lt;&lt;if $east3&gt;&gt;, parched and yellow&lt;&lt;endif&gt;&gt;&lt;&lt;if $east4&gt;&gt;, clinging to the soles of my feet&lt;&lt;endif&gt;&gt;&lt;&lt;if $east5&gt;&gt;&lt;&lt;display &quot;Wet&quot;&gt;&gt;&lt;&lt;endif&gt;&gt;&lt;&lt;if $east1&gt;&gt;.&lt;&lt;endif&gt;&gt; &lt;&lt;if $east2&gt;&gt;Nature demands to be felt.&lt;&lt;endif&gt;&gt;\n</div><div tiddler="West 3" tags="" modified="201307220059" created="201307220059" modifier="twee">&lt;&lt;set $west3 = true&gt;&gt;The Opal England Foundation wants to protect the soil, and the young trees growing in it, from sulphuric and nitric acid in the sky. There is such a lot of soil, and such a lot of sky, and such a lot of acid; they might be happier if they set themselves more achievable goals.\n\n[[East &gt;|West 2]]\n[[West &lt;|West 4]] </div><div tiddler="West 2" tags="" modified="201307212259" created="201307212259" modifier="twee">&lt;&lt;set $west2 = true&gt;&gt;At one point, there is a man (age: __1000 years or less__) who used to come and spend time with the tree. He brings some sandwiches and maybe a newspaper to read as he sits on one of its lower branches. Nobody asks him to, but he does - only every now and again, you understand. It reminds him of his mother.\n\nHe hasn't been back for about sixty summers, but maybe tomorrow.\n\n[[East &gt;|West 1]]\n[[West &lt;|West 3]] </div><div tiddler="West 1" tags="" modified="201307212259" created="201307212259" modifier="twee">&lt;&lt;set $west1 = true&gt;&gt;The grass is overlooked by an oak tree and by a small girl who used to hang from its branches, some decades from here. She sees her own life, tiny and soft and new, caught in the varicose limbs of this ancient wooden monster.\n\nShe knows that when she has children &lt;&lt;if $west5&gt;&gt;(Opal: after her favourite horse) (Mark: after the boy she likes at school)&lt;&lt;endif&gt;&gt; then she will teach them how to climb trees and surround them on all sides with weather.\n\n[[East &gt;|I am here]]\n[[West &lt;|West 2]] </div><div tiddler="North" tags="" modified="201307220530" created="201307220530" modifier="twee">\n&lt;&lt;if $north1&gt;&gt;Stretch out.&lt;&lt;endif&gt;&gt; &lt;&lt;if $north4&gt;&gt;A&lt;&lt;endif&gt;&gt; &lt;&lt;if $north5&gt;&gt;human&lt;&lt;endif&gt;&gt; &lt;&lt;if $north4&gt;&gt;sacrifice of gratitude.&lt;&lt;endif&gt;&gt; &lt;&lt;if $north2&gt;&gt;Welcome back the&lt;&lt;endif&gt;&gt; &lt;&lt;if $north3&gt;&gt;squatting, seething&lt;&lt;endif&gt;&gt;&lt;&lt;if $north5&gt;&gt;, pissing&lt;&lt;endif&gt;&gt; &lt;&lt;if $north2&gt;&gt;sky.&lt;&lt;endif&gt;&gt; &lt;&lt;if $north1&gt;&gt;It's been a long summer, but&lt;&lt;endif&gt;&gt; &lt;&lt;if $north5&gt;&gt;now&lt;&lt;endif&gt;&gt; I'm here.</div><div tiddler="South 1" tags="" modified="201307212259" created="201307212259" modifier="twee">&lt;&lt;set $south1 = true&gt;&gt;Maybe the grass is dead, but there's life yet in the dessicated earth. Worms push their way up, drawn by the rain that's filtering down.\n\n[[North ^|I am here]]\n[[South v|South 2]]</div><div tiddler="South 2" tags="" modified="201307212259" created="201307212259" modifier="twee">&lt;&lt;set $south2 = true&gt;&gt;Down - through the softening husks of once-living creatures, where it's cold as the grave and airless. Sheltered from that sun. Still too far from the other, the one that boils at the centre of the Earth.\n\n[[North ^|South 1]]\n[[South v|South 3]]</div><div tiddler="West 4" tags="" modified="201307220059" created="201307220059" modifier="twee">&lt;&lt;set $west4 = true&gt;&gt;The factories that used to stand here have long since been pulled down. People back then are too concerned with the movements of wheels, and of //things.//\n\nToday's factories criss-cross the GreenSpace as thick, churning streams of information. Benches fill with humans on their lunch breaks. Uniformed rangers take turns at tending to an oak sapling.\n\n[[East &gt;|West 3]]\n[[West &lt;|West 5]] </div><div tiddler="Truestart" tags="" modified="201307212257" created="201307212257" modifier="twee">&lt;&lt;fadeoutsound &quot;https://dl.dropboxusercontent.com/u/167918054/cantrunbut.mp3&quot;&gt;&gt;\n//&quot;When you've gone a long, long way down to the sun and touched it and lingered and jumped around and streaked away from it, where are you going then? When you go away from the heat and the noonday light and the laziness, [[where do you go?&quot;|Pause]]//\n\n— Ray Bradbury / //The Golden Apples of The Sun//\n\n&lt;&lt;set $north1 = false&gt;&gt;&lt;&lt;set $north2 = false&gt;&gt;&lt;&lt;set $north3 = false&gt;&gt;&lt;&lt;set $north4 = false&gt;&gt;&lt;&lt;set $north5 = false&gt;&gt;&lt;&lt;set $east1 = false&gt;&gt;&lt;&lt;set $east2 = false&gt;&gt;&lt;&lt;set $east3 = false&gt;&gt;&lt;&lt;set $east4 = false&gt;&gt;&lt;&lt;set $east5 = false&gt;&gt;&lt;&lt;set $south1 = false&gt;&gt;&lt;&lt;set $south2 = false&gt;&gt;&lt;&lt;set $south3 = false&gt;&gt;&lt;&lt;set $south4 = false&gt;&gt;&lt;&lt;set $south5 = false&gt;&gt;&lt;&lt;set $west1 = false&gt;&gt;&lt;&lt;set $west2 = false&gt;&gt;&lt;&lt;set $west3 = false&gt;&gt;&lt;&lt;set $west4 = false&gt;&gt;&lt;&lt;set $west5 = false&gt;&gt;\n</div><div tiddler="###" tags="" modified="201307220107" created="201307220107" modifier="twee">&lt;&lt;fadeinsound &quot;https://dl.dropboxusercontent.com/u/167918054/cantrunbut.mp3&quot;&gt;&gt;\n&lt;&lt;timedinsert 1s&gt;&gt;written by [[lizzie smyth|https://twitter.com/untiltheygo]]&lt;&lt;endtimedinsert&gt;&gt;\n\n&lt;&lt;timedinsert 2s&gt;&gt;macros by [[leon arnott|http://l.j-factor.com/gmhtml5/]]&lt;&lt;endtimedinsert&gt;&gt;\n\n&lt;&lt;timedinsert 3s&gt;&gt;music by [[paul simon|https://www.youtube.com/watch?v=r0bjMnGQDt8]]&lt;&lt;endtimedinsert&gt;&gt;\n\n&lt;&lt;timedinsert 4s&gt;&gt;interdimensional support by [[maxamillian john|https://twitter.com/maxltj]]&lt;&lt;endtimedinsert&gt;&gt;\n\n&lt;&lt;timedinsert 5s&gt;&gt;— start [[over|Truestart]]&lt;&lt;endtimedinsert&gt;&gt;\n&lt;&lt;timedinsert 6s&gt;&gt;— play [[another twine|http://philome.la/untiltheygo/small-things/play]]&lt;&lt;endtimedinsert&gt;&gt;</div><div tiddler="East 1" tags="" modified="201307212258" created="201307212258" modifier="twee">&lt;&lt;set $east1 = true&gt;&gt;Somewhere, in a less probable universe, (my body is two and a half million pounds of timber) (I have beaten summer nearly four thousand times) (but it keeps coming back for more) rain means nothing to me. Until it's in the ground, how could I feel-know-use it? My fingertips are for sunlight only.\n\n[[East &gt;|East 2]]\n[[West &lt;|I am here]]</div><div tiddler="South 4" tags="" modified="201307220118" created="201307220118" modifier="twee">&lt;&lt;set $south4 = true&gt;&gt;Maybe there are other worlds out there that could support a tree. There was water on Mars, once; its alien trees might be good for shade on stifling summer days, or they might not.\n\nYou could navigate for the nearest forest planet, and it could wither and die long before you arrived.\n\nIt's getting warmer.\n\n[[North ^|South 3]]\n[[South v|South 5]]</div><div tiddler="East 3" tags="" modified="201307220044" created="201307220044" modifier="twee">&lt;&lt;set $east3 = true&gt;&gt;A hundred times I have comforted myself with the idea that somewhere, there's another me. A me who's always happy, who's got it all under control. //That's the real me,// I say, //that's the one who counts. The stuff happening to me here, none of this counts.// If I didn't believe it, sometimes, I wouldn't cope.\n\n[[East &gt;|East 4]]\n[[West &lt;|East 2]]</div><div tiddler="East 2" tags="" modified="201307212258" created="201307212258" modifier="twee">&lt;&lt;set $east2 = true&gt;&gt;Elsewhere, I tear my roots from the Earth and plough off into infinity. A meat-sack and its space-boots, defying the laws of matter to chase stars.\n\nElsewhere, I just lie still and let the vaccuum lift me off the planet.\n\n[[East &gt;|East 3]]\n[[West &lt;|East 1]]</div><div tiddler="East 5" tags="" modified="201307220044" created="201307220044" modifier="twee">&lt;&lt;set $east5 = true&gt;&gt;In an equally probable universe, a hundred and twenty pounds of flesh and water seems a poor vessel for a rain-god. Vestigial paper-skin peeling back, swirling away down the drain.\n\nA being unwrapped, I have invented a better word to describe what it is to feel-know-use something, to surround and be surrounded without assigning a name; I have no direct/conscious interface with the physical, so these memories will fade if I don't chart them.\n\n[[West &lt;|East 4]]</div><div tiddler="East 4" tags="" modified="201307220044" created="201307220044" modifier="twee">&lt;&lt;set $east4 = true&gt;&gt;In a more probable universe, this was the last summer, and the last first-rain. The last relief until the Big One.\n\n[[East &gt;|East 5]]\n[[West &lt;|East 3]]</div><div tiddler="South 5" tags="" modified="201307220118" created="201307220118" modifier="twee">&lt;&lt;set $south5 = true&gt;&gt;//One planet may look like another and occupy the same coordinates in space-time, but what coordinates it occupies in probability is anybody's guess.//\n\n— H2G2 / S5E1\n\n[[North ^|South 4]]</div><div tiddler="Sound macro" tags="script" modified="201307220335" created="201307220335" modifier="twee">(function () {\n  version.extensions['soundMacros'] = {\n    major: 1,\n    minor: 1,\n    revision: 1\n  };\n  var p = macros['playsound'] = {\n    soundtracks: {},\n    handler: function (a, b, c, d) {\n      var loop = function (m) {\n          if (m.loop == undefined) {\n            m.loopfn = function () {\n              this.play();\n            };\n            m.addEventListener('ended', m.loopfn, 0);\n          } else m.loop = true;\n          m.play();\n          };\n      var s = eval(d.fullArgs());\n      if (s) {\n        s = s.toString();\n        var m = this.soundtracks[s.slice(0, s.lastIndexOf(&quot;.&quot;))];\n        if (m) {\n          if (b == &quot;playsound&quot;) {\n            m.play();\n          } else if (b == &quot;loopsound&quot;) {\n            loop(m);\n          } else if (b == &quot;pausesound&quot;) {\n            m.pause();\n          } else if (b == &quot;unloopsound&quot;) {\n            if (m.loop != undefined) {\n              m.loop = false;\n            } else if (m.loopfn) {\n              m.removeEventListener('ended', m.loopfn);\n              delete m.loopfn;\n            }\n          } else if (b == &quot;stopsound&quot;) {\n            m.pause();\n            m.currentTime = 0;\n          } else if (b == &quot;fadeoutsound&quot; || b == &quot;fadeinsound&quot;) {\n            if (m.interval) clearInterval(m.interval);\n            if (b == &quot;fadeinsound&quot;) {\n              if (m.currentTime&gt;0) return;\n              m.volume = 0;\n              loop(m);\n            } else {\n              if (!m.currentTime) return;\n              m.play();\n            }\n            var v = m.volume;\n            m.interval = setInterval(function () {\n              v = Math.min(1, Math.max(0, v + 0.005 * (b == &quot;fadeinsound&quot; ? 1 : -1)));\n              m.volume = Math.easeInOut(v);\n              if (v == 0 || v == 1) clearInterval(m.interval);\n              if (v == 0) {\n                m.pause();\n                m.currentTime = 0;\n                m.volume = 1;\n              }\n            }, 10);\n          }\n        }\n      }\n    }\n  }\n  macros['fadeinsound'] = p;\n  macros['fadeoutsound'] = p;\n  macros['unloopsound'] = p;\n  macros['loopsound'] = p;\n  macros['pausesound'] = p;\n  macros['stopsound'] = p;\n  macros['stopallsound'] = {\n    handler: function () {\n      var s = macros.playsound.soundtracks;\n      for (var j in s) {\n        var i = s[j];\n        i.pause();\n        i.currentTime = 0;\n      }\n    }\n  }\n  var div = $(&quot;storeArea&quot;).firstChild;\n  var fe = [&quot;ogg&quot;, &quot;mp3&quot;, &quot;wav&quot;, &quot;webm&quot;];\n  while (div) {\n    var b = String.fromCharCode(92);\n    var q = '&quot;';\n    var re = &quot;['&quot; + q + &quot;]([^&quot; + q + &quot;']*?)&quot; + b + &quot;.(ogg|mp3|wav|webm)['&quot; + q + &quot;]&quot;;\n    k(new RegExp(re, &quot;gi&quot;));\n    div = div.nextSibling;\n  }\n\n  function k(c, e) {\n    do {\n      d = c.exec(div.innerHTML);\n      if (d) {\n        var a = new Audio();\n        if (a.canPlayType) {\n          for (var i = -1; i &lt; fe.length; i += 1) {\n            if (i &gt;= 0) d[2] = fe[i];\n            if (a.canPlayType(&quot;audio/&quot; + d[2])) break;\n          }\n          if (i &lt; fe.length) {\n            a.setAttribute(&quot;src&quot;, d[1] + &quot;.&quot; + d[2]);\n            a.interval = null;\n            macros.playsound.soundtracks[d[1]] = a;\n          } else console.log(&quot;Browser can't play '&quot; + d[1] + &quot;'&quot;);\n        }\n      }\n    } while (d);\n  }\n}());\n</div><div tiddler="CSS" tags="stylesheet" modified="201307212309" created="201307212309" modifier="twee">.revision-span-in {\n	opacity: 0;\n}\n.revision-span:not(.revision-span-out) {\n	transition: 1s; -webkit-transition: 1s;\n}\n.revision-span-out {\n	position:absolute;\n	opacity: 0;\n}\n\n\n\n.passage { width: 650px !important }\n\nbody{background-color:#e9eae9;color:#000;font-family:Verdana,sans-serif;font-size:70.5%;margin:4em 15% 5% 5em;}\n\n#sidebar{display:none}\n\n#sidebar li{color:#333;text-align:right;background-repeat:no-repeat;margin-bottom:1em;}#sidebar li:hover{color:#fff;cursor:pointer;}#sidebar li a{color:#333;}#sidebar li a:hover{color:#fff;text-decoration:none;}#sidebar #title{color:#999;font-size:150%;cursor:auto;}#sidebar #title a{color:#999;}#sidebar #title a:hover{color:#fff;}#sidebar #storyAuthor{font-size:50%;}#sidebar #storyMenu{display:none;line-height:2.5em;margin-bottom:.5em;}#sidebar #title:hover{color:#999;}#sidebar #credits{padding-top:2em;font-weight:normal;font-size:80%;cursor:auto;}#sidebar #credits:hover{color:#333;}#sidebar #credits a{text-decoration:none;}.menu{position:absolute;display:none;background-color:#343434;color:#fff;opacity:.9;border:1px solid #fff;text-align:left;font:1.1em Verdana;line-height:2em;}.menu div{padding:0 .4em;}.menu div:hover{cursor:pointer;background-color:#fff;color:#343434;}#passages{margin-left:18.2em;border-left:none;padding-left:1.5em;}.passage{font-size:1.2em;line-height:175%;margin-bottom:2em;text-align:left;}.passage ul{padding-top:1.3em;text-align:center;}.passage li{display:inline;margin-right:6em;}a.internalLink,a.externalLink,a.back{color:#ef7a08;font-weight:normal;text-decoration:none;}a.internalLink:hover,a.externalLink:hover,a.back:hover{color:#d86d05;font-weight:normal;text-decoration:none;}a.brokenLink{background-color:red;text-decoration:none;color:#000;}.marked{background-color:red;color:#000;margin-right:12px;padding:3px;}.passage ul{margin-left:.5em;padding-left:1.5em;}.passage ol{margin-left:.5em;padding-left:1.5em;}.passage table{border-collapse:collapse;font-size:100%;margin:.8em 1.0em;}.passage th,.passage td,.passage tr,.passage caption{padding:3px;}.passage hr{height:1px;}#storeArea{display:none;}\n</div><div tiddler="West 5" tags="" modified="201307220059" created="201307220059" modifier="twee">&lt;&lt;set $west5 = true&gt;&gt;Zie thought it was an acorn when zie pushed it down with per thumb into the ash and rubble. Who would have guessed that two and a half million pounds of timber would be so easily mistaken?\n\n[[East &gt;|West 4]] </div><div tiddler="South 3" tags="" modified="201307220118" created="201307220118" modifier="twee">&lt;&lt;set $south3 = true&gt;&gt;Deeper, where the roots of the oldest tree fan out like divine plumbing. It's been plugged into the planet for thousands of years after your death, and will continue to be so thousands of years before you're born.\n\n[[North ^|South 2]]\n[[South v|South 4]]</div><div tiddler="I am here" tags="" modified="201307212257" created="201307212257" modifier="twee">&lt;&lt;if $east1&gt;&gt;&lt;&lt;display &quot;East&quot;&gt;&gt;&lt;&lt;endif&gt;&gt;&lt;&lt;if $west1&gt;&gt;&lt;&lt;display &quot;West&quot;&gt;&gt;&lt;&lt;endif&gt;&gt;&lt;&lt;if $south1&gt;&gt;&lt;&lt;display &quot;South&quot;&gt;&gt;&lt;&lt;endif&gt;&gt;&lt;&lt;display &quot;North&quot;&gt;&gt;\n\n&lt;&lt;if $north5 and $east5 and $south5 and $west5&gt;&gt;[[###]]&lt;&lt;else&gt;&gt;[[North ^|North 1]]\n[[East &gt;|East 1]]\n[[West &lt;|West 1]]\n[[South v|South 1]]&lt;&lt;endif&gt;&gt;</div><div tiddler="North 4" tags="" modified="201307220036" created="201307220036" modifier="twee">&lt;&lt;set $north4 = true&gt;&gt;&lt;html&gt;&lt;strong&gt;varicose&lt;/strong&gt;&lt;/html&gt; //adjective//\n\nswollen, twisted, and lengthened, as a result of poor circulation\n\n[[North ^|North 5]]\n[[South v|North 3]]</div><div tiddler="North 5" tags="" modified="201307220036" created="201307220036" modifier="twee">&lt;&lt;set $north5 = true&gt;&gt;&lt;html&gt;&lt;strong&gt;compass&lt;/strong&gt;&lt;/html&gt; //noun//\n\n1. an instrument containing a magnetised pointer which shows the direction of north\n2. an instrument for drawing circles and arcs and measuring distances between points\n3. the range or scope of something\n\n&lt;html&gt;&lt;strong&gt;compass&lt;/strong&gt;&lt;/html&gt; //verb//\n\n1. go around (something) in a circular course; surround or hem in on all sides\n2. contrive to accomplish (something)\n\n[[South v|North 4]]</div><div tiddler="North 2" tags="" modified="201307212258" created="201307212258" modifier="twee">&lt;&lt;set $north2 = true&gt;&gt;&lt;html&gt;&lt;strong&gt;vestigial&lt;/strong&gt;&lt;/html&gt; //adjective//\n\n1. forming a very small remnant of something that was once greater or more noticeable\n2. degenerate, rudimentary, or atrophied, having become functionless in the course of evolution\n\n[[North ^|North 3]]\n[[South v|North 1]]</div><div tiddler="North 3" tags="" modified="201307220036" created="201307220036" modifier="twee">&lt;&lt;set $north3 = true&gt;&gt;&lt;html&gt;&lt;strong&gt;acid rain&lt;/strong&gt;&lt;/html&gt; //noun//\n\nSO&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt; + OH· → HOSO&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt;· / HOSO&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt;· + O&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt; → HO&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt;· + SO&lt;html&gt;&lt;sub&gt;3&lt;/sub&gt;&lt;/html&gt; / SO&lt;html&gt;&lt;sub&gt;3&lt;/sub&gt;&lt;/html&gt; (g) + H&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt;O (l) → H&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt;SO&lt;html&gt;&lt;sub&gt;4&lt;/sub&gt;&lt;/html&gt; (aq)\n\nNO&lt;html&gt;&lt;sub&gt;2&lt;/sub&gt;&lt;/html&gt; + OH· → HNO&lt;html&gt;&lt;sub&gt;3&lt;/sub&gt;&lt;/html&gt;\n\n[[North ^|North 4]]\n[[South v|North 2]]</div><div tiddler="North 1" tags="" modified="201307212258" created="201307212258" modifier="twee">&lt;&lt;set $north1 = true&gt;&gt;&lt;html&gt;&lt;strong&gt;desiccate&lt;/strong&gt;&lt;/html&gt; //verb//\n\n1. remove the moisture from (something), typically in order to preserve it\n2. [as adj. //desiccated//] lacking interest, passion, or energy\n\n[[North ^|North 2]]\n[[South v|I am here]]</div></div></body></html>